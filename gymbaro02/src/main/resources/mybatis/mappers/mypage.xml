<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.mypage">
<resultMap type="MemberVO" id="memberResult">
		<result property="uid" column="uid" />
		<result property="member_id" column="member_id" />
		<result property="member_pwd" column="member_pwd" />
		<result property="member_name" column="member_name" />
		<result property="member_gender" column="member_gender" />
		
		<result property="member_type" column="member_type" />
		<result property="member_level" column="member_level" />
		<result property="member_point" column="member_point" />
		
		<result property="phone_number" column="phone_number" />
		<result property="email" column="email" />
		<result property="pwdFindQ" column="pwdFindQ" />
		<result property="pwdFindA" column="pwdFindA" />
		
		<result property="zipcode" column="zipcode" />
		<result property="roadAddress" column="roadAddress" />
		<result property="jibunAddress" column="jibunAddress" />
		<result property="extraAddress" column="extraAddress" />
		
		<result property="info_yn" column="info_yn" />
		<result property="joinDate" column="joinDate" />
		<result property="gym_license" column="gym_license" />
		<result property="SALT" column="SALT" />
	</resultMap>
	
<update id="updateMyInfo" parameterType="java.util.Map">
 			update member
			   <set>
			   	  <if test=" name!='' and name!=null">
			         member_name = #{name},
			      </if>
			       <if test=" member_pwd!='' and member_pwd!=null">
			         member_pwd = #{member_pwd},
			      </if>
			      <if test=" phone_number!='' and phone_number!=null">
			         phone_number = #{phone_number},
			      </if>
			      <if test=" email!='' and email!=null">
			         email = #{email},
			      </if>
			      <if test=" zipcode!='' and zipcode!=null">
			         zipcode = #{zipcode},
			      </if>
			      <if test=" roadAddress!='' and roadAddress!=null">
			         roadAddress=#{roadAddress},
			      </if>
			      <if test=" info_yn!='' and info_yn!=null">
			         info_yn = #{info_yn},
			      </if>			     
			   </set>
		where 
		member_id=#{member_id}
</update>

<select id="selectMyDetailInfo" parameterType="String" resultType="memberVO">
	select * from member where member_id = #{member_id}
</select>

<select id="confirmPwd" parameterType="String" resultType="int">
	select case when count(*)>=1 then 1 else 0 end
	from member
	where member_pwd = #{member_pwd}
</select>

</mapper>